<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Quanne Leap ‚Äî Text ‚Üí Image</title>

<!-- Self-contained neon theme (matches your homepage vibe) -->
<style>
:root{
--bg0:#070a12;
--bg1:#0a1024;
--card:rgba(255,255,255,.06);
--card2:rgba(255,255,255,.08);
--line:rgba(255,255,255,.12);
--text:rgba(255,255,255,.92);
--muted:rgba(255,255,255,.62);
--blue:#2de2ff;
--blue2:#42a5ff;
--shadow: 0 20px 60px rgba(0,0,0,.55);
--radius:18px;
--radius2:14px;
--font: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
margin:0;
font-family:var(--font);
color:var(--text);
background:
radial-gradient(900px 420px at 52% 18%, rgba(45,226,255,.18), transparent 60%),
radial-gradient(900px 420px at 20% 0%, rgba(66,165,255,.14), transparent 62%),
linear-gradient(180deg, var(--bg0), var(--bg1));
overflow-x:hidden;
}

/* Top bar */
.topbar{
position:sticky; top:0; z-index:10;
backdrop-filter: blur(10px);
background: rgba(10,16,36,.55);
border-bottom:1px solid var(--line);
}
.topbarInner{
max-width:1200px;
margin:0 auto;
padding:14px 16px;
display:flex;
align-items:center;
justify-content:space-between;
gap:12px;
}
.brand{
display:flex; align-items:center; gap:10px;
user-select:none;
}
.brandMark{
width:34px; height:34px; border-radius:10px;
display:grid; place-items:center;
background: linear-gradient(180deg, rgba(45,226,255,.22), rgba(255,255,255,.06));
border:1px solid rgba(45,226,255,.25);
box-shadow: 0 10px 30px rgba(45,226,255,.12);
font-weight:800;
letter-spacing:.5px;
}
.brandText{display:flex; flex-direction:column; line-height:1.05}
.brandText b{font-size:14px}
.brandText span{font-size:12px; color:var(--muted)}

.rightPills{display:flex; align-items:center; gap:10px; flex-wrap:wrap; justify-content:flex-end}
.pill{
display:inline-flex; align-items:center; gap:8px;
padding:8px 10px;
border-radius:999px;
background: rgba(255,255,255,.06);
border:1px solid var(--line);
color:var(--text);
font-size:12px;
}
.pill .dot{
width:8px; height:8px; border-radius:50%;
background: var(--blue);
box-shadow: 0 0 20px rgba(45,226,255,.65);
}
.avatar{
width:30px; height:30px; border-radius:10px;
display:grid; place-items:center;
background: rgba(255,255,255,.08);
border:1px solid var(--line);
font-weight:700;
}

/* Page layout */
.wrap{max-width:1200px; margin:0 auto; padding:18px 16px 28px;}
.titleRow{
margin:14px 0 16px;
display:flex; align-items:flex-end; justify-content:space-between; gap:14px;
}
.titleRow h1{
margin:0;
font-size:34px;
letter-spacing:-.5px;
text-shadow: 0 0 30px rgba(45,226,255,.12);
}
.titleRow p{margin:6px 0 0; color:var(--muted); max-width:720px}

.grid{
display:grid;
grid-template-columns: 330px 1fr 280px;
gap:14px;
align-items:start;
}

@media (max-width: 980px){
.grid{grid-template-columns:1fr; }
}

.panel{
background: var(--card);
border:1px solid var(--line);
border-radius: var(--radius);
box-shadow: var(--shadow);
overflow:hidden;
}
.panelHeader{
padding:14px 14px 10px;
border-bottom:1px solid rgba(255,255,255,.08);
}
.panelHeader h2{
margin:0;
font-size:14px;
letter-spacing:.2px;
color:rgba(255,255,255,.86);
}
.panelBody{padding:14px}

.label{display:block; font-size:12px; color:var(--muted); margin:10px 0 8px}
.textarea{
width:100%;
min-height:180px;
resize:vertical;
border-radius:14px;
border:1px solid rgba(255,255,255,.12);
background: rgba(0,0,0,.22);
color:var(--text);
padding:12px 12px;
outline:none;
box-shadow: inset 0 0 0 1px rgba(45,226,255,.0);
}
.textarea:focus{
border-color: rgba(45,226,255,.38);
box-shadow: inset 0 0 0 1px rgba(45,226,255,.22), 0 0 0 3px rgba(45,226,255,.10);
}

.row{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
.btn{
border:none;
cursor:pointer;
border-radius:999px;
padding:10px 14px;
font-weight:700;
font-size:13px;
color:var(--text);
background: rgba(255,255,255,.08);
border:1px solid rgba(255,255,255,.14);
}
.btn:hover{background: rgba(255,255,255,.10)}
.btnPrimary{
width:100%;
padding:12px 14px;
background: linear-gradient(90deg, rgba(45,226,255,.20), rgba(66,165,255,.14));
border:1px solid rgba(45,226,255,.32);
box-shadow: 0 18px 45px rgba(45,226,255,.12);
}
.btnPrimary:hover{
border-color: rgba(45,226,255,.55);
box-shadow: 0 18px 55px rgba(45,226,255,.18);
}

.select{
width:100%;
border-radius:14px;
border:1px solid rgba(255,255,255,.12);
background: rgba(0,0,0,.22);
color:var(--text);
padding:11px 12px;
outline:none;
}
.select:focus{
border-color: rgba(45,226,255,.38);
box-shadow: 0 0 0 3px rgba(45,226,255,.10);
}

/* Theme row (big cards like your screenshot) */
.themeRow{
display:grid;
grid-template-columns: repeat(4, 1fr);
gap:10px;
}
@media (max-width: 980px){
.themeRow{grid-template-columns: repeat(2, 1fr);}
}
.themeCard{
position:relative;
border-radius:16px;
border:1px solid rgba(255,255,255,.12);
background: rgba(0,0,0,.20);
overflow:hidden;
cursor:pointer;
min-height:126px;
transition: transform .08s ease, border-color .12s ease, box-shadow .12s ease;
}
.themeCard:hover{
transform: translateY(-1px);
border-color: rgba(45,226,255,.28);
box-shadow: 0 14px 40px rgba(0,0,0,.35);
}
.themeCard.active{
border-color: rgba(45,226,255,.60);
box-shadow: 0 0 0 3px rgba(45,226,255,.12), 0 16px 50px rgba(45,226,255,.10);
}
.themeCard img{
width:100%; height:100%;
object-fit:cover;
display:block;
}
.themeMeta{
position:absolute; left:10px; right:10px; bottom:10px;
display:flex; flex-direction:column; gap:2px;
padding:8px 10px;
border-radius:14px;
background: rgba(0,0,0,.50);
border:1px solid rgba(255,255,255,.12);
}
.themeMeta b{font-size:12px}
.themeMeta span{font-size:11px; color:rgba(255,255,255,.70)}

/* Style grid (little images you pick from) */
.styleGrid{
display:grid;
grid-template-columns: repeat(3, 1fr);
gap:10px;
}
.styleTile{
position:relative;
border-radius:14px;
border:1px solid rgba(255,255,255,.12);
background: rgba(0,0,0,.20);
overflow:hidden;
cursor:pointer;
transition: transform .08s ease, border-color .12s ease, box-shadow .12s ease;
min-height:86px;
}
.styleTile:hover{
transform: translateY(-1px);
border-color: rgba(45,226,255,.28);
box-shadow: 0 14px 40px rgba(0,0,0,.35);
}
.styleTile.active{
border-color: rgba(45,226,255,.60);
box-shadow: 0 0 0 3px rgba(45,226,255,.12), 0 16px 50px rgba(45,226,255,.10);
}
.styleTile img{
width:100%; height:100%;
object-fit:cover;
display:block;
filter: saturate(1.05) contrast(1.02);
}
.styleTile .caption{
position:absolute; left:8px; right:8px; bottom:8px;
font-size:11px;
padding:6px 8px;
border-radius:999px;
background: rgba(0,0,0,.45);
border:1px solid rgba(255,255,255,.12);
color: rgba(255,255,255,.88);
text-overflow: ellipsis;
overflow:hidden;
white-space: nowrap;
}

/* Center preview + bottom creations strip */
.previewWrap{
padding:14px;
background: radial-gradient(600px 220px at 50% 18%, rgba(45,226,255,.12), transparent 62%);
}
.previewStage{
border-radius: var(--radius);
border:1px solid rgba(255,255,255,.12);
background: rgba(0,0,0,.22);
height:420px;
display:grid;
place-items:center;
overflow:hidden;
position:relative;
}
.previewEmpty{
text-align:center;
color: rgba(255,255,255,.68);
user-select:none;
}
.previewEmpty .icon{
font-size:34px;
filter: drop-shadow(0 12px 22px rgba(0,0,0,.55));
}
.previewEmpty .txt{margin-top:10px; font-weight:700}
.previewImg{
position:absolute; inset:0;
width:100%; height:100%;
object-fit:contain;
display:none;
background: rgba(0,0,0,.14);
}

.creationStrip{
margin-top:12px;
border-radius: var(--radius);
border:1px solid rgba(255,255,255,.12);
background: rgba(0,0,0,.18);
padding:10px;
display:flex;
gap:10px;
overflow:auto;
}
.thumb{
width:92px; height:64px;
border-radius:12px;
border:1px solid rgba(255,255,255,.12);
background: rgba(255,255,255,.05);
overflow:hidden;
flex: 0 0 auto;
cursor:pointer;
position:relative;
}
.thumb:hover{border-color: rgba(45,226,255,.30)}
.thumb img{width:100%; height:100%; object-fit:cover; display:block}

/* delete X on thumb */
.thumb .xbtn{
position:absolute;
top:6px; right:6px;
width:22px; height:22px;
border-radius:999px;
display:grid; place-items:center;
background: rgba(0,0,0,.55);
border:1px solid rgba(255,255,255,.16);
color: rgba(255,255,255,.92);
font-weight:900;
font-size:12px;
line-height:1;
cursor:pointer;
box-shadow: 0 10px 18px rgba(0,0,0,.35);
}
.thumb .xbtn:hover{
border-color: rgba(45,226,255,.35);
box-shadow: 0 12px 22px rgba(45,226,255,.10);
}

/* tiny helper note */
.note{font-size:12px; color:var(--muted); line-height:1.3}
.glowLine{
height:1px; width:100%;
background: linear-gradient(90deg, transparent, rgba(45,226,255,.55), transparent);
opacity:.55;
margin:10px 0;
}
</style>
</head>

<body>
<!-- TOP BAR -->
<div class="topbar">
<div class="topbarInner">
<div class="brand">
<div class="brandMark">QL</div>
<div class="brandText">
<b>Quanne Leap</b>
<span>Create in the future.</span>
</div>
</div>

<div class="rightPills">
<!-- Home button added -->
<a class="pill" href="/index.html" style="text-decoration:none">
<span class="dot"></span>Home
</a>

<div class="pill"><span class="dot"></span>Platinum</div>
<div class="pill">‚òÖ ‚àû</div>
<div class="pill">
<div class="avatar" id="avatarCircle">K</div>
<div style="display:flex;flex-direction:column;line-height:1.05">
<b style="font-size:12px;margin:0">KC</b>
<span style="font-size:11px;color:var(--muted)">Admin</span>
</div>
</div>
</div>
</div>
</div>

<!-- PAGE -->
<div class="wrap">
<div class="titleRow">
<div>
<h1>Text ‚Üí Image</h1>
<p>Create an image from a prompt. Pick a theme + style (optional), choose size, hit generate, then manage results below.</p>
</div>
</div>

<div class="grid">

<!-- LEFT: Prompt + theme -->
<div class="panel">
<div class="panelHeader"><h2>Prompt + Theme</h2></div>
<div class="panelBody">
<label class="label">Prompt</label>
<textarea id="prompt" class="textarea" placeholder="Describe what you want..."></textarea>

<div class="row">
<button class="btn" id="clearBtn">Clear</button>
<button class="btn" id="pasteBtn">Paste</button>
</div>

<div class="glowLine"></div>

<label class="label">Pick Theme (optional)</label>
<div id="themeRow" class="themeRow"></div>

<div style="margin-top:10px" class="note">
Theme images are in <b>/public/</b> (example: <b>public/Kids_Story.jpeg</b>). Filenames must match exactly.
</div>
</div>
</div>

<!-- CENTER: Preview + Pick Style UNDER the preview + creations strip -->
<div class="panel">
<div class="panelHeader"><h2>Preview</h2></div>
<div class="previewWrap">
<div class="previewStage" id="previewStage">
<div class="previewEmpty" id="previewEmpty">
<div class="icon">üñºÔ∏è</div>
<div class="txt">No Results Available</div>
</div>
<img id="previewImg" class="previewImg" alt="Preview" />
</div>

<!-- Pick Style moved HERE (under preview) -->
<div class="glowLine"></div>
<div style="display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap">
<label class="label" style="margin:0">Pick Style (optional)</label>
</div>
<div id="styleGrid" class="styleGrid" style="margin-top:8px"></div>

<div style="margin-top:10px" class="note">
Style images are in <b>/public/</b> (example: <b>public/Pixar_Style.jpeg</b>). Filenames must match exactly.
</div>

<div class="glowLine"></div>

<div class="creationStrip" id="creationStrip" aria-label="Creations strip">
<!-- thumbs appear here -->
</div>
</div>
</div>

<!-- RIGHT: Settings + generate + download -->
<div class="panel">
<div class="panelHeader"><h2>Settings</h2></div>
<div class="panelBody">
<label class="label">Image Size</label>
<select id="size" class="select">
<option value="1024x1024">Square (1024√ó1024)</option>
<option value="1024x1536">Portrait (1024√ó1536)</option>
<option value="1536x1024">Landscape (1536√ó1024)</option>
</select>

<label class="label">How many images</label>
<select id="count" class="select">
<option value="1">1</option>
<option value="2">2</option>
<option value="4" selected>4</option>
</select>

<label class="label">Quality</label>
<select id="quality" class="select">
<option value="standard" selected>Standard</option>
<option value="high">High</option>
</select>

<div class="glowLine"></div>

<button class="btn btnPrimary" id="generateBtn">Generate</button>
<div style="height:10px"></div>

<!-- Download button added -->
<button class="btn" id="downloadBtn" style="width:100%">Download</button>

<div style="margin-top:10px" class="note">
UI is ready. Next we wire Generate to your backend.
</div>
</div>
</div>

</div>
</div>

<script>
console.log("‚úÖ create-image.html loaded");

// ====== THEMES (big cards) ======
// IMPORTANT: These file names must exist in /public/
// Example: public/Kids_Story.jpeg
const THEMES = [
{ id:"Kids_Story", label:"Kids Story", sub:"Kid-friendly adventure", img:"Kids_Story.jpeg", seed:"kid-friendly, warm, hopeful" },
{ id:"Biblical_Epic", label:"Biblical Epic", sub:"Faith + cinematic scale", img:"Biblical_Epic.jpeg", seed:"cinematic biblical epic, majestic light" },
{ id:"Neon_City_Heist", label:"Neon City Heist", sub:"Neon crime story (original)", img:"Neon_City_Heist.jpeg", seed:"neon city, cyberpunk, high contrast" },
{ id:"Future_Ops", label:"Future Ops", sub:"Tactical sci-fi action", img:"Future_Ops.jpeg", seed:"futuristic tactical, clean sci-fi" },
];

// ====== STYLES (little tiles) ======
// IMPORTANT: These file names must exist in /public/
// Example: public/Pixar_Style.jpeg
const STYLES = [
{ id:"Pixar_Style", label:"Pixar Style", img:"Pixar_Style.jpeg", seed:"Pixar-inspired 3D, soft lighting, expressive faces" },
{ id:"Disney_Style", label:"Disney Style", img:"Disney_Style.jpeg", seed:"Disney-inspired 3D, bright colors, magical glow" },
{ id:"Anime_Fantasy", label:"Anime Fantasy", img:"Anime_Fantasy.jpeg", seed:"anime fantasy, vibrant, detailed eyes, cinematic" },
{ id:"Realistic_Cinema", label:"Realistic Cinema", img:"Realistic_Cinema.jpeg", seed:"realistic cinematic photo, natural lighting, film grain" },
{ id:"Film_Narrative", label:"Film Narrative", img:"Film_Narrative.jpeg", seed:"cinematic film still, story-driven composition" },
{ id:"Storybook_Charm", label:"Storybook Charm", img:"Storybook_Charm.jpeg", seed:"storybook illustration, soft pastel, charming" },
{ id:"PixiePop_3D", label:"PixiePop 3D", img:"PixiePop_3D.jpeg", seed:"cute 3D character, glossy, playful" },
{ id:"Inked_Realism", label:"Inked Realism", img:"Inked_Realism.jpeg", seed:"inked realism, textured pen shading" },
{ id:"Watercolor_Whimsy", label:"Watercolor Whimsy", img:"Watercolor_Whimsy.jpeg", seed:"watercolor wash, gentle edges, soft bloom" },
];

const $ = (s)=>document.querySelector(s);
const themeRow = $("#themeRow");
const styleGrid = $("#styleGrid");
const creationStrip = $("#creationStrip");
const previewImg = $("#previewImg");
const previewEmpty = $("#previewEmpty");

let selectedTheme = THEMES[0]?.id || null;
let selectedStyle = STYLES[0]?.id || null;

function setPreview(src){
if(!src){
previewImg.style.display = "none";
previewEmpty.style.display = "block";
previewImg.src = "";
previewImg.dataset.src = "";
return;
}
previewImg.src = src;
previewImg.dataset.src = src;
previewImg.style.display = "block";
previewEmpty.style.display = "none";
}

function renderThemes(){
themeRow.innerHTML = "";
THEMES.forEach(th=>{
const card = document.createElement("div");
card.className = "themeCard" + (th.id===selectedTheme ? " active" : "");
card.setAttribute("data-theme", th.id);

const img = document.createElement("img");
img.src = th.img; // /public/
img.alt = th.label;

const meta = document.createElement("div");
meta.className = "themeMeta";
const b = document.createElement("b"); b.textContent = th.label;
const s = document.createElement("span"); s.textContent = th.sub;
meta.appendChild(b); meta.appendChild(s);

card.appendChild(img);
card.appendChild(meta);

card.addEventListener("click", ()=>{
selectedTheme = th.id;
document.querySelectorAll(".themeCard").forEach(x=>x.classList.remove("active"));
card.classList.add("active");

// OPTIONAL: if prompt empty, drop in theme seed
const prompt = $("#prompt");
if(prompt.value.trim().length === 0){
prompt.value = th.seed;
}
});

themeRow.appendChild(card);
});
}

function renderStyles(){
styleGrid.innerHTML = "";
STYLES.forEach(st=>{
const tile = document.createElement("div");
tile.className = "styleTile" + (st.id===selectedStyle ? " active" : "");
tile.setAttribute("data-style", st.id);

const img = document.createElement("img");
img.src = st.img; // /public/
img.alt = st.label;

const cap = document.createElement("div");
cap.className = "caption";
cap.textContent = st.label;

tile.appendChild(img);
tile.appendChild(cap);

tile.addEventListener("click", ()=>{
selectedStyle = st.id;
document.querySelectorAll(".styleTile").forEach(x=>x.classList.remove("active"));
tile.classList.add("active");

// OPTIONAL: if prompt empty, drop in style seed
const prompt = $("#prompt");
if(prompt.value.trim().length === 0){
prompt.value = st.seed;
}
});

styleGrid.appendChild(tile);
});
}

// ====== Creations strip (UI only for now) ======
function addCreationThumb(src){
const box = document.createElement("div");
box.className = "thumb";

const img = document.createElement("img");
img.src = src;
img.alt = "Creation";

// delete X button
const x = document.createElement("button");
x.className = "xbtn";
x.type = "button";
x.textContent = "√ó";

x.addEventListener("click", (e)=>{
e.stopPropagation();
const wasCurrent = (previewImg.dataset.src === src);
box.remove();

if(wasCurrent){
const first = creationStrip.querySelector(".thumb img");
if(first) setPreview(first.src);
else setPreview(null);
}
});

box.appendChild(img);
box.appendChild(x);

box.addEventListener("click", ()=> setPreview(src));

creationStrip.prepend(box);
setPreview(src);
}

// Buttons
$("#clearBtn").addEventListener("click", ()=>{
$("#prompt").value = "";
});

$("#pasteBtn").addEventListener("click", async ()=>{
try{
const txt = await navigator.clipboard.readText();
if(txt) $("#prompt").value = txt;
}catch(e){
alert("Clipboard paste blocked. Just Ctrl+V into the prompt box.");
}
});

$("#generateBtn").addEventListener("click", ()=>{
// UI-only placeholder (so the page feels alive)
// Uses the THEME image as a fake ‚Äúresult‚Äù until we wire the API.
const th = THEMES.find(x=>x.id===selectedTheme) || THEMES[0];
addCreationThumb(th.img);

console.log("Generate clicked:", {
prompt: $("#prompt").value,
theme: selectedTheme,
style: selectedStyle,
size: $("#size").value,
count: $("#count").value,
quality: $("#quality").value
});
});

// Download current preview image to the user's device
$("#downloadBtn").addEventListener("click", async ()=>{
const src = previewImg.dataset.src || previewImg.src;
if(!src){
alert("Nothing to download yet. Generate or select an image first.");
return;
}

const fileName = (src.split("/").pop() || "quanne-leap-image.jpeg");

try{
// Works reliably across browsers: fetch -> blob -> objectURL -> <a download>
const res = await fetch(src, { cache: "no-store" });
const blob = await res.blob();
const url = URL.createObjectURL(blob);

const a = document.createElement("a");
a.href = url;
a.download = fileName;
document.body.appendChild(a);
a.click();
a.remove();

URL.revokeObjectURL(url);
}catch(err){
// fallback: open in new tab if fetch is blocked by CORS (shouldn't be for same origin)
window.open(src, "_blank");
}
});

// Init
renderThemes();
renderStyles();
setPreview(null);
</script>
</body>
